<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Can fit a linear regression
models with selected variables standardized;
handle product terms correctly and
skip categorical predictors in
standardization."><title>Standardize Coefficients in a Regression Model — lm_betaselect • betaselectr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/PT_Serif-0.4.9/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Standardize Coefficients in a Regression Model — lm_betaselect"><meta property="og:description" content="Can fit a linear regression
models with selected variables standardized;
handle product terms correctly and
skip categorical predictors in
standardization."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><meta name="google-site-verification" content="0VLBmFnW_UJFI-7gXnORPBsWxqZwmzuGpK-TeVRLBjQ"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">betaselectr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sfcheung/betaselectr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Standardize Coefficients in a Regression Model</h1>
      <small class="dont-index">Source: <a href="https://github.com/sfcheung/betaselectr/blob/HEAD/R/lm_betaselect.R" class="external-link"><code>R/lm_betaselect.R</code></a></small>
      <div class="d-none name"><code>lm_betaselect.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Can fit a linear regression
models with selected variables standardized;
handle product terms correctly and
skip categorical predictors in
standardization.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">lm_betaselect</span><span class="op">(</span></span>
<span>  <span class="va">...</span>,</span>
<span>  to_standardize <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  not_to_standardize <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  do_boot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  bootstrap <span class="op">=</span> <span class="fl">100L</span>,</span>
<span>  iseed <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  ncpus <span class="op">=</span> <span class="fu">parallel</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/parallel/detectCores.html" class="external-link">detectCores</a></span><span class="op">(</span>logical <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span>,</span>
<span>  progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  load_balancing <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for lm_betaselect</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  digits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fl">3L</span>, <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"digits"</span><span class="op">)</span> <span class="op">-</span> <span class="fl">3L</span><span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"beta"</span>, <span class="st">"standardized"</span>, <span class="st">"raw"</span>, <span class="st">"unstandardized"</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">raw_output</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>...</dt>
<dd><p>For <code>lm_betaselect()</code>,
these arguments will be
passed directly to <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code>. For
the <code>print</code>-method of <code>lm_betaselect</code>
objects, this will be passed to
other methods.</p></dd>


<dt>to_standardize</dt>
<dd><p>A string vector,
which should be the names of the
variables to be standardized.
Default is <code>NULL</code>, indicating all
variables are to be standardized
(but see <code>skip_categorical</code>).</p></dd>


<dt>not_to_standardize</dt>
<dd><p>A string
vector, which should be the names
of the variables that should <em>not</em> be
standardized. This argument is useful
when most variables, except for a few,
are to be standardized. This argument
cannot be ued with <code>to_standardize</code>
at the same time. Default is <code>NULL</code>,
and only <code>to_standardize</code> is used.</p></dd>


<dt>do_boot</dt>
<dd><p>Whether bootstrapping
will be conducted. Default is <code>TRUE</code>.</p></dd>


<dt>bootstrap</dt>
<dd><p>If <code>do_boot</code> is
<code>TRUE</code>, this argument is the number
of bootstrap samples to draw. Default
is 100. Should be set to 5000 or even
10000 for stable results.</p></dd>


<dt>iseed</dt>
<dd><p>If <code>do_boot</code> is <code>TRUE</code>
and this argument is not <code>NULL</code>,
it will be used by <code><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed()</a></code> to
set the seed for the random number
generator. Default is <code>NULL</code>.</p></dd>


<dt>parallel</dt>
<dd><p>If <code>do_boot</code> is
<code>TRUE</code> and this argument is <code>TRUE</code>,
parallel processing will be used to
do bootstrapping. Default is <code>FALSE</code>
because bootstrapping in regression
by <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code> is rarely slow.</p></dd>


<dt>ncpus</dt>
<dd><p>If <code>do_boot</code> is <code>TRUE</code>
and <code>parallel</code> is also <code>TRUE</code>, this
argument is the number of processes
to be used in parallel processing.
Default
is <code>parallel::detectCores(logical = FALSE) - 1</code></p></dd>


<dt>progress</dt>
<dd><p>Logical. If <code>TRUE</code>,
progress bars will be displayed
for long process.</p></dd>


<dt>load_balancing</dt>
<dd><p>Logical. If
<code>parallel</code> is <code>TRUE</code>, this determine
whether load balancing will be used.
Default is <code>TRUE</code>.</p></dd>


<dt>x</dt>
<dd><p>A <code>lm_betaselect</code>-class object.</p></dd>


<dt>digits</dt>
<dd><p>The number of significant
digits to be printed for the
coefficients.</p></dd>


<dt>type</dt>
<dd><p>The coefficients to be
printed. For <code>"beta"</code> or
<code>"standardized"</code>, the coefficients
after selected variables standardized
will be printed. For <code>"raw"</code> or
<code>"unstandardized"</code>, the coefficients
before standardization was done will
be printed.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>The function <code>lm_betaselect()</code></p>


<p>returns an object of the class <code>lm_betaselect</code>,
which is similar to the output
of <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code>, with additional information
stored.</p>


<p>The function <code>raw_output()</code> returns
an object of the class <code>lm</code>, which are
the results of fitting the model
to the data by <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">stats::lm()</a></code> without
standardization.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function <code>lm_betaselect()</code>
lets users
select which variables to be
standardized when computing the
standardized solution. It has the
following features:</p><ul><li><p>It automatically skips categorical
predictors (i.e., factor or string
variables).</p></li>
<li><p>It does not standardize product
term, which is incorrect. Instead, it
compute the product term with its
component variables standardized.</p></li>
<li><p>It standardizes the selected
variables <em>before</em> fitting a model.
Therefore, If a model has the term
<code>log(x)</code> and <code>x</code> is one of the
selected variables, the model used
the logarithm of the <em>standardized</em>
<code>x</code> in the model, instead of
standardized <code>log(x)</code> which is
difficult to interpret.</p></li>
<li><p>It can be used to generate
nonparametric
bootstrap confidence intervals for
the standardized solution. Bootstrap
confidence interval is better than
the least square confidence interval
ignoring the standardization
because it
takes into account the sampling
variance of the standard deviations.
It is one of the recommended methods
for forming confidence intervals for
coefficients involving standardized
variables (Jones &amp; Waller, 2013).</p></li>
</ul><div class="section">
<h3 id="problems-with-common-approaches">Problems With Common Approaches<a class="anchor" aria-label="anchor" href="#problems-with-common-approaches"></a></h3>


<p>In some regression programs, users
have limited control on which
variables to standardize when
requesting the so-called "betas".
The solution may be uninterpretable
or misleading in these conditions:</p><ul><li><p>Dummy variables are standardized
and cannot be interpreted as the
difference between two groups on the
outcome variables.</p></li>
<li><p>Product terms (interaction terms)
are standardized and they cannot be
interpreted as the changes in the
effects of focal variables when the
moderators change (Cheung, Cheung,
Lau, Hui, &amp; Vong, 2022).</p></li>
<li><p>Variables with meaningful units can
be more difficult to interpret when
they are standardized (e.g., age).</p></li>
</ul></div>

<div class="section">
<h3 id="how-it-works">How It Works<a class="anchor" aria-label="anchor" href="#how-it-works"></a></h3>


<p>It standardizes the original variables
<em>before</em> they are used in the
regression model. Therefore, strictly
speaking, it does not standardize
the predictors in a regression model,
but standardize the <em>input variable</em>
(Gelman et al., 2021).</p>
<p>The requested model is then fitted to
the dataset with selected variables
standardized. For the ease of
follow-up analysis, both the results
with selected variables standardized
and the results without
standardization are stored. If
required, the results without
standardization can be retrieved
by <code>raw_output()</code>.</p>
</div>

<div class="section">
<h3 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h3>


<p>The output of <code>lm_betaselect()</code> is
an <code>lm_betaselect</code>-class object.
It has the following methods:add</p><ul><li><p>A <code>coef</code>-method for extracting
the coefficients of the model.
(See <code><a href="coef.lm_betaselect.html">coef.lm_betaselect()</a></code> for details.)</p></li>
<li><p>A <code>vcov</code>-method for extracting the
variance-covariance matrix of the
estimates of the coefficients.
If bootstrapping is requested, it
can return the matrix based on the
bootstrapping estimates.
(See <code><a href="vcov.lm_betaselect.html">vcov.lm_betaselect()</a></code> for details.)</p></li>
<li><p>A <code>confint</code>-method for forming the
confidence intervals of the
estimates of the coefficients.
If bootstrapping is requested, it
can return the bootstrap confidence
intervals.
(See <code><a href="confint.lm_betaselect.html">confint.lm_betaselect()</a></code> for details.)</p></li>
<li><p>A <code>summary</code>-method for printing the
summary of the results, with additional
information such as the number of
bootstrap samples and which variables
have been standardized.
(See <code><a href="summary.lm_betaselect.html">summary.lm_betaselect()</a></code> for details.)</p></li>
<li><p>An <code>anova</code>-method for printing the
ANOVA table. Can also be used to
compare two or more outputs of
<code>lm_betaselect()</code>.
(See <code><a href="anova.lm_betaselect.html">anova.lm_betaselect()</a></code> for details.)</p></li>
<li><p>A <code>predict</code>-method for computing
predicted values. It can be used to
compute the predicted values given
a set of new unstandardized data.
The data will be standardized before
computing the predicted values in
the models with standardization.
(See <code><a href="predict.lm_betaselect.html">predict.lm_betaselect()</a></code> for details.)</p></li>
<li><p>The default <code>update</code>-method for updating
a call also works for an
<code>lm_betaselect</code> object. It can
update the model in the same
way it updates a model fitted by
<code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">stats::lm()</a></code>, and also update
arguments of <code>lm_betaselect()</code>,
such as the variables to be
standardized.
(See <code><a href="https://rdrr.io/r/stats/update.html" class="external-link">stats::update()</a></code> for details.)</p></li>
</ul><p>Most other methods for the output
of <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">stats::lm()</a></code> should also work
on an <code>lm_betaselect</code>-class object.
Some of them will give the same
results regardless of the variables
standardized. For example,
<code><a href="https://rdrr.io/r/stats/influence.measures.html" class="external-link">rstandard()</a></code> and <code><a href="https://rdrr.io/r/stats/influence.measures.html" class="external-link">cooks.distance()</a></code>.
For some others, they should be used
with cautions if they make use of
the variance-covariance matrix
of the estimates because they may use
the least square version.</p>
<p>To use the methods for <code>lm</code> objects
on the results without standardization,
simply use <code>raw_output()</code>. For example,
to get the fitted values without
standardization, call
<code>fitted(raw_output(x))</code>, where <code>x</code>
is the output of <code>lm_betaselect()</code>.</p>
</div>

<p>The function <code>raw_output()</code> simply extracts
the regression output by <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">stats::lm()</a></code>
on the variables without standardization.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Cheung, S. F., Cheung, S.-H., Lau, E. Y. Y., Hui, C. H., &amp; Vong, W. N.
(2022) Improving an old way to measure moderation effect in standardized
units. <em>Health Psychology</em>, <em>41</em>(7), 502-505.
<a href="https://doi.org/10.1037/hea0001188" class="external-link">doi:10.1037/hea0001188</a></p>
<p>Craig, C. C. (1936). On the frequency function of xy.
<em>The Annals of Mathematical Statistics, 7</em>(1),
1--15. <a href="https://doi.org/10.1214/aoms/1177732541" class="external-link">doi:10.1214/aoms/1177732541</a></p>
<p>Gelman, A., Hill, J., &amp; Vehtari, A. (2021).
<em>Regression and other stories</em>.
Cambridge University Press.
<a href="https://doi.org/10.1017/9781139161879" class="external-link">doi:10.1017/9781139161879</a></p>
<p>Jones, J. A., &amp; Waller, N. G. (2013). Computing confidence
intervals for standardized regression coefficients.
<em>Psychological Methods, 18</em>(4), 435--453.
<a href="https://doi.org/10.1037/a0033269" class="external-link">doi:10.1037/a0033269</a></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="print.lav_betaselect.html">print.lav_betaselect()</a></code> for its print method.</p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448" class="external-link">https://orcid.org/0000-0002-9871-9448</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">data_test_mod_cat</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Standardize only iv</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">lm_beta_x</span> <span class="op">&lt;-</span> <span class="fu">lm_betaselect</span><span class="op">(</span><span class="va">dv</span> <span class="op">~</span> <span class="va">iv</span><span class="op">*</span><span class="va">mod</span> <span class="op">+</span> <span class="va">cov1</span> <span class="op">+</span> <span class="va">cat1</span>,</span></span>
<span class="r-in"><span>                           data <span class="op">=</span> <span class="va">data_test_mod_cat</span>,</span></span>
<span class="r-in"><span>                           to_standardize <span class="op">=</span> <span class="st">"iv"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lm_beta_x</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call to lm_betaselect():</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> betaselectr::lm_betaselect(formula = dv ~ iv * mod + cov1 + cat1, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     data = data_test_mod_cat, to_standardize = "iv")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable(s) standardized: iv</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model *after* standardization:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stats::lm(formula = dv ~ iv * mod + cov1 + cat1, data = betaselectr::std_data(data = data_test_mod_cat, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     to_standardize = "iv"))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)           iv          mod         cov1      cat1gp2      cat1gp3  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     790.550      -94.302       57.578       10.024     -112.588      -53.106  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      iv:mod  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       8.661  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_beta_x</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call to lm_betaselect():</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> betaselectr::lm_betaselect(formula = dv ~ iv * mod + cov1 + cat1, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     data = data_test_mod_cat, to_standardize = "iv")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable(s) standardized: iv </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stats::lm(formula = dv ~ iv * mod + cov1 + cat1, data = betaselectr::std_data(data = data_test_mod_cat, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     to_standardize = "iv"))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Residuals:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Min       1Q   Median       3Q      Max </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -1987.03  -463.99     0.25   455.14  2152.48 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Estimate Std. Error z value Pr(Boot)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)  790.550    628.105   1.259     0.16    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> iv           -94.302    721.336  -0.131     0.22    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mod           57.578      6.133   9.388     0.54    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cov1          10.024     10.126   0.990     0.34    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cat1gp2     -112.588     76.889  -1.464     0.82    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cat1gp3      -53.106     77.879  -0.682     0.26    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> iv:mod         8.661      7.200   1.203   &lt;0.001 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Residual standard error: 681.1 on 493 degrees of freedom</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R-squared                : 0.602</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Adjusted R-squared       : 0.597</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ANOVA test of R-squared : F(6, 493) = 124.344, p &lt; 0.001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Note:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Results *after* standardization are reported.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Nonparametric bootstrapping conducted.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - The number of bootstrap samples is 100.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Standard errors are bootstrap standard errors.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Z values are computed by 'Estimate / Std. Error'.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - The bootstrap p-values are asymmetric p-values by Asparouhov and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Muthén (2021).</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Manually standardize iv and call lm()</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">data_test_mod_cat</span><span class="op">$</span><span class="va">iv_z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/scale.html" class="external-link">scale</a></span><span class="op">(</span><span class="va">data_test_mod_cat</span><span class="op">[</span>, <span class="st">"iv"</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">lm_beta_x_manual</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">dv</span> <span class="op">~</span> <span class="va">iv_z</span><span class="op">*</span><span class="va">mod</span> <span class="op">+</span> <span class="va">cov1</span> <span class="op">+</span> <span class="va">cat1</span>,</span></span>
<span class="r-in"><span>                       data <span class="op">=</span> <span class="va">data_test_mod_cat</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">lm_beta_x</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)          iv         mod        cov1     cat1gp2     cat1gp3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  790.549933  -94.301982   57.578053   10.024281 -112.587966  -53.106405 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      iv:mod </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    8.661027 </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">lm_beta_x_manual</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)        iv_z         mod        cov1     cat1gp2     cat1gp3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  790.549933  -94.301982   57.578053   10.024281 -112.587966  -53.106405 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    iv_z:mod </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    8.661027 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Standardize all numeric variables</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">lm_beta_all</span> <span class="op">&lt;-</span> <span class="fu">lm_betaselect</span><span class="op">(</span><span class="va">dv</span> <span class="op">~</span> <span class="va">iv</span><span class="op">*</span><span class="va">mod</span> <span class="op">+</span> <span class="va">cov1</span> <span class="op">+</span> <span class="va">cat1</span>,</span></span>
<span class="r-in"><span>                             data <span class="op">=</span> <span class="va">data_test_mod_cat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Note that cat1 is not standardized</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_beta_all</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call to lm_betaselect():</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> betaselectr::lm_betaselect(formula = dv ~ iv * mod + cov1 + cat1, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     data = data_test_mod_cat)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable(s) standardized: dv, iv, mod, cov1, iv_z </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stats::lm(formula = dv ~ iv * mod + cov1 + cat1, data = betaselectr::std_data(data = data_test_mod_cat, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     to_standardize = c("dv", "iv", "mod", "cov1", "iv_z")))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Residuals:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Min       1Q   Median       3Q      Max </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -1.85143 -0.43232  0.00024  0.42408  2.00559 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Estimate Std. Error z value Pr(Boot)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)    0.051      0.042   1.217     0.22    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> iv             0.720      0.022  32.675     0.12    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mod            0.269      0.025  10.584     0.38    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cov1           0.028      0.025   1.105     0.28    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cat1gp2       -0.105      0.075  -1.393   &lt;0.001 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cat1gp3       -0.049      0.065  -0.759     0.16    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> iv:mod         0.040      0.030   1.366   &lt;0.001 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Residual standard error: 0.6346 on 493 degrees of freedom</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> R-squared                : 0.602</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Adjusted R-squared       : 0.597</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ANOVA test of R-squared : F(6, 493) = 124.344, p &lt; 0.001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Note:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Results *after* standardization are reported.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Nonparametric bootstrapping conducted.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - The number of bootstrap samples is 100.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Standard errors are bootstrap standard errors.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Z values are computed by 'Estimate / Std. Error'.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - The bootstrap p-values are asymmetric p-values by Asparouhov and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Muthén (2021).</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu">raw_output</span><span class="op">(</span><span class="va">lm_beta_x</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stats::lm(formula = dv ~ iv * mod + cov1 + cat1, data = data_test_mod_cat)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Residuals:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Min       1Q   Median       3Q      Max </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -1987.03  -463.99     0.25   455.14  2152.48 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Estimate Std. Error t value Pr(&gt;|t|)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept) 1488.568   4540.789   0.328    0.743</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> iv           -46.545    300.046  -0.155    0.877</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mod           -6.530     45.372  -0.144    0.886</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cov1          10.024     10.173   0.985    0.325</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cat1gp2     -112.588     76.046  -1.481    0.139</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cat1gp3      -53.106     75.126  -0.707    0.480</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> iv:mod         4.275      2.993   1.428    0.154</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Residual standard error: 681.1 on 493 degrees of freedom</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Multiple R-squared:  0.6021,	Adjusted R-squared:  0.5973 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> F-statistic: 124.3 on 6 and 493 DF,  p-value: &lt; 2.2e-16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Shu Fai Cheung.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

