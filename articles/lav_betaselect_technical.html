<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>How lav_betaselect() Works • betaselectr</title>
<!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Public_Sans-0.4.10/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="How lav_betaselect() Works">
<meta name="google-site-verification" content="0VLBmFnW_UJFI-7gXnORPBsWxqZwmzuGpK-TeVRLBjQ">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">betaselectr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><h6 class="dropdown-header" data-toc-skip>&lt;Structural Equation Models&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/betaselectr_lav.html">Beta-Select Demonstration - SEM by 'lavaan'</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>&lt;Multiple Regression&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/betaselectr_lm.html">Beta-Select Demonstration - Regression by 'lm()'</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>&lt;Generalized Linear Models&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/betaselectr_glm.html">Beta-Select Demonstration - Logistic Regression by 'glm()'</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>&lt;Technical Appendices&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/lav_betaselect_technical.html">How 'lav_betaselectr() works'</a></li>
    <li><a class="dropdown-item" href="../articles/lm_betaselect_technical.html">How 'lm_betaselectr() works'</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sfcheung/betaselectr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>How lav_betaselect() Works</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/sfcheung/betaselectr/blob/main/vignettes/articles/lav_betaselect_technical.Rmd" class="external-link"><code>vignettes/articles/lav_betaselect_technical.Rmd</code></a></small>
      <div class="d-none name"><code>lav_betaselect_technical.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="goal">Goal<a class="anchor" aria-label="anchor" href="#goal"></a>
</h2>
<p>This technical appendix describes how a <span class="math inline">\(\beta_{Select}\)</span> is computed in
<code><a href="../reference/lav_betaselect.html">lav_betaselect()</a></code> from the package <a href="https://sfcheung.github.io/betaselectr/">betaselectr</a>.</p>
</div>
<div class="section level2">
<h2 id="beta-select-beta_select">Beta-Select (<span class="math inline">\(\beta_{Select}\)</span>)<a class="anchor" aria-label="anchor" href="#beta-select-beta_select"></a>
</h2>
<p>Unlike multiple linear regression and generalized linear model,
refitting a structural equation model with some variables standardized
is not a suitable approach because (a) the standardization may not be
consistent with the model being fitted (the sample standard deviation
and the model implied standard deviation may be different) (b) doing so
does not allow the delta method to take into account the sampling error
in the standard deviations. Therefore, <span class="math inline">\(\beta{s}_{Select}\)</span> in structural equation
model are computed as function of model parameters.</p>
<div class="section level3">
<h3 id="a-predictor-not-involved-in-a-product-term">A Predictor Not Involved In a Product Term<a class="anchor" aria-label="anchor" href="#a-predictor-not-involved-in-a-product-term"></a>
</h3>
<p>Let’s consider a predictor not involved in a product term.</p>
<p>This is an example, with the effect of <span class="math inline">\(x_1\)</span> not moderated and <span class="math inline">\(x_1\)</span> also not a moderator:</p>
<p><span class="math display">\[
y = B_0 + B_1x_1 + B_2x_2 + B_3w + B_4x_2w + e
\]</span></p>
<p>The general form of the standardized coefficient of <span class="math inline">\(x_1\)</span> is:</p>
<p><span class="math display">\[
\beta_{Select} = B_1\frac{SD_{x_1}}{SD_y}
\]</span></p>
<p>where <span class="math inline">\(SD_{x_1}\)</span> and <span class="math inline">\(SD_y\)</span> are the standard deviations of <span class="math inline">\(x_1\)</span> and <span class="math inline">\(y\)</span>, respectively.</p>
<p>If only <span class="math inline">\(x_1\)</span> is standardized,
then</p>
<p><span class="math display">\[
\beta_{Select} = B_1{SD_{x_1}}
\]</span></p>
<p>If only <span class="math inline">\(y\)</span> is standardized,
then</p>
<p><span class="math display">\[
\beta_{Select} = B_1\frac{1}{SD_y}
\]</span></p>
<p>The function <code><a href="../reference/lav_betaselect.html">lav_betaselect()</a></code> will compute the <span class="math inline">\(\beta_{Select}\)</span> of a predictor based on
the variables being standardized.</p>
</div>
<div class="section level3">
<h3 id="a-product-term">A Product Term<a class="anchor" aria-label="anchor" href="#a-product-term"></a>
</h3>
<p><span class="math inline">\(B_4x_2w\)</span> in the following model
is a product term (interaction term), representint the moderation effect
of <span class="math inline">\(w\)</span> on the effect of <span class="math inline">\(x_2\)</span> on <span class="math inline">\(y\)</span>:</p>
<p><span class="math display">\[
y = B_0 + B_1x_1 + B_2x_2 + B_3w + B_4x_2w + e
\]</span></p>
<p>The general form of the standardized coefficient of the product term
<span class="math inline">\(B_4x_2w\)</span> is:</p>
<p><span class="math display">\[
\beta_{Select} = B_4\frac{SD_{x_2}SD_{w}}{SD_y}
\]</span></p>
<p>where <span class="math inline">\(SD_{x_2}\)</span>, <span class="math inline">\(SD_{w}\)</span>, and <span class="math inline">\(SD_y\)</span> are the standard deviations of <span class="math inline">\(x_2\)</span>, <span class="math inline">\(w\)</span>, and <span class="math inline">\(y\)</span>, respectively.</p>
<p>If only <span class="math inline">\(x_2\)</span> is standardized,
then</p>
<p><span class="math display">\[
\beta_{Select} = B_4SD_{x_2}
\]</span></p>
<p>If only <span class="math inline">\(y\)</span> is standardized,
then</p>
<p><span class="math display">\[
\beta_{Select} = B_4\frac{1}{SD_y}
\]</span></p>
<p>If only <span class="math inline">\(w\)</span> is standardized,
then</p>
<p><span class="math display">\[
\beta_{Select} = B_4SD_{w}
\]</span></p>
<p>If only <span class="math inline">\(x_2\)</span> and <span class="math inline">\(w\)</span> are standardized, then</p>
<p><span class="math display">\[
\beta_{Select} = B_4SD_{x_2}SD_{w}
\]</span></p>
<p>If only <span class="math inline">\(y\)</span> and <span class="math inline">\(w\)</span> are standardized, then</p>
<p><span class="math display">\[
\beta_{Select} = B_4\frac{SD_w}{SD_y}
\]</span></p>
<p>If only <span class="math inline">\(y\)</span> and <span class="math inline">\(x_2\)</span> are standardized, then</p>
<p><span class="math display">\[
\beta_{Select} = B_4\frac{SD_{x_2}}{SD_y}
\]</span></p>
<p>The function <code><a href="../reference/lav_betaselect.html">lav_betaselect()</a></code> will compute the <span class="math inline">\(\beta_{Select}\)</span> of a predictor based on
the variables being standardized.</p>
</div>
<div class="section level3">
<h3 id="a-predictor-involved-in-a-product-term">A Predictor Involved In a Product Term<a class="anchor" aria-label="anchor" href="#a-predictor-involved-in-a-product-term"></a>
</h3>
<p>Let’s consider a predictor involved in a product term.</p>
<p>In the following model, the effect of <span class="math inline">\(x_2\)</span> is moderated by <span class="math inline">\(w\)</span>, and the conditional effect of <span class="math inline">\(x_2\)</span> when <span class="math inline">\(w =
0\)</span> is given by <span class="math inline">\(B_2\)</span>:</p>
<p><span class="math display">\[
y = B_0 + B_1x_1 + B_2x_2 + B_3w + B_4x_2w + e
\]</span></p>
<p>The general form of the standardized coefficient of <span class="math inline">\(x_2\)</span> is:</p>
<p><span class="math display">\[
\beta_{Select} = (B_2 + B_4M_w)\frac{SD_{x_2}}{SD_y}
\]</span></p>
<p>where <span class="math inline">\(SD_{x_2}\)</span> and <span class="math inline">\(SD_y\)</span> are the standard deviations of <span class="math inline">\(x_2\)</span> and <span class="math inline">\(y\)</span>, respectively, and <span class="math inline">\(M_w\)</span> is the mean of <span class="math inline">\(w\)</span>.</p>
<p>If only <span class="math inline">\(x_2\)</span> is standardized,
then</p>
<p><span class="math display">\[
\beta_{Select} = (B_2 + B_4M_w)SD_{x_2}
\]</span></p>
<p>If only <span class="math inline">\(y\)</span> is standardized,
then</p>
<p><span class="math display">\[
\beta_{Select} = (B_2 + B_4M_w)\frac{1}{SD_y}
\]</span></p>
<p>The function <code><a href="../reference/lav_betaselect.html">lav_betaselect()</a></code> will compute the <span class="math inline">\(\beta_{Select}\)</span> based on the variables
being standardized.</p>
</div>
</div>
<div class="section level2">
<h2 id="standard-error-p-values-and-confidence-interval">Standard Error, <span class="math inline">\(p\)</span>-Values, and
Confidence Interval<a class="anchor" aria-label="anchor" href="#standard-error-p-values-and-confidence-interval"></a>
</h2>
<div class="section level3">
<h3 id="the-delta-method">The Delta Method<a class="anchor" aria-label="anchor" href="#the-delta-method"></a>
</h3>
<p>If the delta method <span class="citation">(Rao, 1973)</span> is used
to compute the standard error of a <span class="math inline">\(\beta_{Select}\)</span>, the <span class="math inline">\(\beta_{Select}\)</span> will be treated as a
function of the model parameters, and the point estimates and the
variance-covariance matrix of these estimates returned by
<code><a href="https://rdrr.io/pkg/lavaan/man/lavaan.html" class="external-link">lavaan()</a></code> will be used to derive the asymptotical standard
error of the <span class="math inline">\(\beta_{Select}\)</span>. The
<span class="math inline">\(p\)</span>-value and the confidence interval
will then be computed using the standard normal distribution.</p>
</div>
<div class="section level3">
<h3 id="nonparametric-bootstrapping">Nonparametric Bootstrapping<a class="anchor" aria-label="anchor" href="#nonparametric-bootstrapping"></a>
</h3>
<p>If nonparametric bootstrapping <span class="citation">(Efron &amp;
Tibshirani, 1993)</span> is used to compute the standard error of a
<span class="math inline">\(\beta_{Select}\)</span>, then <span class="math inline">\(R\)</span> bootstrap samples will be drawn, and
the <span class="math inline">\(\beta_{Select}\)</span> will be computed
in each sample using one of the formulas above. The standard error is
the standard deviation of the <span class="math inline">\(R\)</span>
bootstrap estimates of the <span class="math inline">\(\beta_{Select}\)</span>. The <span class="math inline">\(p\)</span>-value is computed using the method
proposed by <span class="citation">Asparouhov &amp; Muthén
(2021)</span>. The confidence interval can be formed by either the
percentile method (the default) or the bias-corrected method.</p>
</div>
</div>
<div class="section level2">
<h2 id="miscellaneous">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous"></a>
</h2>
<p>For a structural equation model, the model implied standard
deviations, instead of the sample standard deviations, are used. This
ensures that the standardization conducted is consistent with the model
being fitted.</p>
<p>For example, if a multigroup model is fitted and equality constraints
are imposed on the standard deviations, then the model implied common
standard deviation, which can be different from the full sample standard
deviation, will be used in the standardization.</p>
<p>Moreover, if missing data is present and method such as maximum
likelihood (ML) is used, then this method also allows using the ML
estimates of the standard deviations, instead of listwise or pairwise
estimates of them.</p>
</div>
<div class="section level2">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0" line-spacing="2">
<div id="ref-asparouhov_bootstrap_2021" class="csl-entry">
Asparouhov, T., &amp; Muthén, B. O. (2021). <em>Bootstrap
<em>p</em>-value computation</em>. <a href="https://www.statmodel.com/download/FAQ-Bootstrap%20-%20Pvalue.pdf" class="external-link">https://www.statmodel.com/download/FAQ-Bootstrap%20-%20Pvalue.pdf</a>
</div>
<div id="ref-efron_introduction_1993" class="csl-entry">
Efron, B., &amp; Tibshirani, R. (1993). <em>An <span>Introduction</span>
to the bootstrap</em>. Chapman &amp; Hall/CRC.
</div>
<div id="ref-rao_large_1973" class="csl-entry">
Rao, C. R. (1973). <em>Large sample theory and methods</em>. John Wiley
&amp; Sons, Inc.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Shu Fai Cheung, Rong Wei Sun, Florbela Chang, Wendie Yang, Sing-Hang Cheung.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
